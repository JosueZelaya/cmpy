<script type="text/ng-template" id="venderModal.html">
<div class="modal-body" ng-app="cmpy.anuncios" ng-controller="venderController">


    <label for="titulo">Agregue el nombre del producto</label>
    <input ng-model="titulo" path="titulo" id="titulo" type="text" name="titulo" class="form-control" placeholder="Titulo del anuncio"/>
    <br/>
        <div class='col-md-4'>  
            <div class="form-group">
                <label>Categoria 1</label>
                <select class="form-control" ng-model='select_nivel1' ng-change='getSelectNivel2()'>
                    <option ng-repeat='cat in categorias_nivel1' value='{{cat.id}}'>{{cat.nombre}}</option>
                </select>
            </div>
        </div>
        <div class='col-md-4'>  
            <div class="form-group">
                <label>Categoria 2</label>
                <select class="form-control" ng-model='select_nivel2' ng-change='getSelectNivel3()'>
                    <option ng-repeat='cat in categorias_nivel2' value='{{cat.id}}'>{{cat.nombre}}</option>
                </select>
            </div>
        </div>
        <div class='col-md-4'>  
            <div class="form-group">
                <label>Categoria 3</label>
                <select class="form-control" ng-model='select_nivel3' ng-change='setGlobalcat()'>
                    <option ng-repeat='cat in categorias_nivel3' value='{{cat.id}}'>{{cat.nombre}}</option>
                </select>
            </div>
        </div>
    <br/>
    <br/>
    <label for="precio">Precio del Producto</label>
    <input ng-model="precio" name="precio" type="number" min="0" max="10000000" id="precio" class="form-control">
    <br/>
    <label for="titulo">Describa el producto a vender</label>
    <textarea ng-model="descripcion" path="descripcion" id="descripcion" name="descripcion" class="form-control" rows="3" placeholder="Agrege una descripcion de su producto"></textarea>                                            
    <br/>                
    <!--    <div class="form-group">
            <input path="multipleFiles" id="imagenes" name="multipleFiles" type="file" class="file" multiple=true data-preview-file-type="any"/>
        </div>                    -->

    <h3>
        <a name="gallery-example" class="anchor" href="#gallery-example"><span class="octicon octicon-link"></span></a>Suba imagenes de su producto</h3>
        
    <div flow-object="existingFlowObject" flow-init
         flow-files-submitted="$flow.upload()"
         flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]">
        <div class="drop" flow-drop ng-class="dropClass">
            <span class="btn btn-default" flow-btn>Buscar Imagenes</span>                        
            <b>O</b>
            Arrastre y suelte sus imágenes aquí.
        </div>

        <br/>

        <div>

            <div ng-repeat="file in $flow.files" class="gallery-box">
                <span class="title">{{file.name}}</span>
                <div class="thumbnail" ng-show="$flow.files.length">
                    <img flow-img="file" />
                </div>
                <div class="progress progress-striped" ng-class="{active: file.isUploading()}">
                    <div class="progress-bar" role="progressbar"
                         aria-valuenow="{{file.progress() * 100}}"
                         aria-valuemin="0"
                         aria-valuemax="100"
                         ng-style="{width: (file.progress() * 100) + '%'}">
                        <span class="sr-only">{{file.progress()}}% Complete</span>
                    </div>
                </div>
                <div class="btn-group">
                    <a class="btn btn-xs btn-danger" ng-click="file.cancel()">
                        Remove
                    </a>
                </div>
            </div>
            <div class="clear"></div>
        </div>

    </div>
    <div>
        
<div ng-controller="modalController">
                        
                        <button value="VenderYa!" type="submit" class="btn btn-success pull-right" ng-click="open('ubicacionesModal.html', 'lg')" tooltip="Ubicaciones en las que usted puede entregar el producto" tooltip-placement="bottom">
                            Agregar Ubicaciones de Entrega
                        </button>  
                        
                    </div>
    </div>

    <div class="modal-footer">                
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancelar</button>
        <button value="VenderYa!" ng-click="agregarPublicacion()" class="btn btn-success pull-right">
            VenderYa!
        </button>
    </div>                



</div>


</script>
